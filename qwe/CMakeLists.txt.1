cmake_minimum_required(VERSION 3.12)
project(qwe LANGUAGES CXX)
set(CMAKE_INCLUDE_CURRENT_DIR ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTORCC ON)
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

FIND_PACKAGE(PkgConfig REQUIRED)
PKG_CHECK_MODULES(QT5PC REQUIRED /usr/lib64/pkgconfig/Qt5.pc)
INCLUDE_DIRECTORIES(${QT5PC_INCLUDE_DIRS})
ADD_DEFINITIONS(${QT5PC_CFLAGS_OTHER})

PKG_CHECK_MODULES(LIRCPC REQUIRED /usr/lib64/pkgconfig/lirc.pc)
INCLUDE_DIRECTORIES(${LIRCPC_INCLUDE_DIRS})
ADD_DEFINITIONS(${LIRCPC_CFLAGS_OTHER})

find_package(Qt5 COMPONENTS Widgets REQUIRED)

add_subdirectory(Widget)
add_executable(${PROJECT_NAME} "main.cc")

target_compile_definitions(${PROJECT_NAME} PRIVATE $<$<OR:$<CONFIG:Debug>,$<CONFIG:RelWithDebInfo>>:QT_QML_DEBUG>)
target_link_libraries(${PROJECT_NAME} PRIVATE Qt5::Widgets Widget ${QT5PC_LIBRARIES}  ${LIRCPC_LIBRARIES} )
install(TARGETS ${PROJECT_NAME} DESTINATION bin)
